"use strict";(self["webpackChunkkolotok"]=self["webpackChunkkolotok"]||[]).push([[837],{5734:(e,t,r)=>{r.d(t,{Z:()=>p});var n=r(3396),a=r(7139),o={class:"subcategory-card shadow"},s={key:0,src:"",alt:"",class:"subcategory-card__img"},c={key:1,src:"img/catalog/catalog__photo-default.svg",alt:"",class:"subcategory-card__img"},i={class:"subcategory-card__text"};function u(e,t,r,u,l,g){return(0,n.wg)(),(0,n.iD)("div",o,[r.img?((0,n.wg)(),(0,n.iD)("img",s)):((0,n.wg)(),(0,n.iD)("img",c)),(0,n._)("p",i,(0,a.zw)(r.text),1)])}const l={name:"SubcategoryCard",props:{img:String,text:String}};var g=r(89);const d=(0,g.Z)(l,[["render",u],["__scopeId","data-v-00c087f0"]]),p=d},2781:(e,t,r)=>{r.d(t,{Z:()=>m});r(1539),r(3948);var n=r(3396),a=r(7139),o=r(9242),s={class:"r-dropdown"},c={class:"r-dropdown__selected"},i={src:"img/icon/catalog/arrow.svg",alt:"",class:"r-dropdown__arrow",ref:"arrow"},u={key:0,class:"r-dropdown__list"},l=["onClick"];function g(e,t,r,g,d,p){return(0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("div",{class:"r-dropdown__header",onClick:t[0]||(t[0]=function(){return p.toggleDropdown&&p.toggleDropdown.apply(p,arguments)})},[(0,n._)("p",c,(0,a.zw)(p.getDefaultValue.text),1),(0,n._)("img",i,null,512)]),(0,n.Wm)(o.uT,null,{default:(0,n.w5)((function(){return[e.isDropdownOpened?((0,n.wg)(),(0,n.iD)("ul",u,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.values,(function(e){return(0,n.wg)(),(0,n.iD)("li",{class:"r-dropdown__item",key:e.id,onClick:function(t){p.closeDropdown(),p.selectValue(e.value)}},(0,a.zw)(e.text),9,l)})),128))])):(0,n.kq)("",!0)]})),_:1})])}const d={name:"rDropdown",props:{values:Array},data:function(){return{isDropdownOpened:!1,defaultValue:0}},computed:{getDefaultValue:function(){return this.values[this.defaultValue]}},methods:{toggleDropdown:function(){!1===this.isDropdownOpened?(this.isDropdownOpened=!0,this.$refs.arrow.style.transform="rotate(180deg)"):(this.isDropdownOpened=!1,this.$refs.arrow.style.transform=null)},closeDropdown:function(){this.isDropdownOpened=!1,this.$refs.arrow.style.transform=null},selectValue:function(e){this.defaultValue=e-1}}};var p=r(89);const _=(0,p.Z)(d,[["render",g],["__scopeId","data-v-13d2310c"]]),m=_},7736:(e,t,r)=>{r.d(t,{Z:()=>g});r(2526),r(1817);var n=r(3396),a=r(7139),o={itemscope:"",itemtype:"http://schema.org/BreadcrumbList",class:"r-breadcrumbs animate__animated animate__fadeInDownBig wow"},s={key:1,itemprop:"item",itemscope:"",class:"r-breadcrumbs__current-description"};function c(e,t,r,c,i,u){var l=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("ol",o,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.links,(function(e){return(0,n.wg)(),(0,n.iD)("li",{itemprop:"itemListElement",itemtype:"http://schema.org/ListItem",class:"r-breadcrumbs__item",key:e.id},[!1===e.current?((0,n.wg)(),(0,n.j4)(l,{key:0,itemprop:"item",to:e.route,class:"r-breadcrumbs__link"},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,a.zw)(e.description),1)]})),_:2},1032,["to"])):((0,n.wg)(),(0,n.iD)("a",s,(0,a.zw)(e.description),1))])})),128))])}const i={name:"rBreadcrumbs",props:{links:Array}};var u=r(89);const l=(0,u.Z)(i,[["render",c],["__scopeId","data-v-102adf28"]]),g=l},7287:(e,t,r)=>{r.d(t,{Z:()=>h});var n=r(3396),a=r(7139),o=function(e){return(0,n.dD)("data-v-92a5db78"),e=e(),(0,n.Cn)(),e},s={class:"r-pagination"},c={key:0,class:"r-pagination__btn-wrapper"},i=o((function(){return(0,n._)("img",{src:"img/icon/catalog/arrow.svg",alt:"",class:"r-pagination__btn-arrow-prev"},null,-1)})),u=[i],l=["onClick"],g={key:1,class:"r-pagination__btn-wrapper"},d=o((function(){return(0,n._)("img",{src:"img/icon/catalog/arrow.svg",alt:"",class:"r-pagination__btn-arrow-next"},null,-1)})),p=[d];function _(e,t,r,o,i,d){return(0,n.wg)(),(0,n.iD)("ol",s,[r.currentPage>1?((0,n.wg)(),(0,n.iD)("li",c,[(0,n._)("button",{class:"r-pagination__btn",onClick:t[0]||(t[0]=function(e){return d.selectPage(r.currentPage-1)})},u)])):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(d.viewedPages,(function(e){return(0,n.wg)(),(0,n.iD)("li",{class:(0,a.C_)(["r-pagination__item",e["class"]]),key:e.id,onClick:function(t){return d.selectPage(e.page)}},(0,a.zw)(e.page),11,l)})),128)),d.viewedPages.length>4?((0,n.wg)(),(0,n.iD)("li",g,[(0,n._)("button",{class:"r-pagination__btn",onClick:t[1]||(t[1]=function(e){return d.selectPage(r.currentPage+1)})},p)])):(0,n.kq)("",!0)])}r(9653),r(9554),r(1539),r(4747);const m={name:"rPagination",props:{pages:Array,currentPage:Number},watch:{currentPage:function(){this.selectPage(this.currentPage)}},computed:{viewedPages:function(){var e=this,t=[];return this.pages.forEach((function(r){r.page===e.currentPage?r["class"]="current":r["class"]=null,r.page>=e.currentPage&&r.page<e.currentPage+5&&t.push(r)})),t}},methods:{selectPage:function(e){console.log(e),this.$emit("selectPage",e)}},mounted:function(){this.selectPage(this.currentPage)}};var w=r(89);const f=(0,w.Z)(m,[["render",_],["__scopeId","data-v-92a5db78"]]),h=f},3474:(e,t,r)=>{r.r(t),r.d(t,{default:()=>C});r(8309);var n=r(3396),a=r(7139),o={class:"page-category theme-container"},s={class:"main"},c={class:"category center"},i={class:"category__title"},u={class:"category__subcategories"},l={class:"category__products"},g={class:"category__bottom"};function d(e,t,r,d,p,_){var m=(0,n.up)("the-header"),w=(0,n.up)("r-breadcrumbs"),f=(0,n.up)("subcategory-card"),h=(0,n.up)("r-dropdown"),v=(0,n.up)("r-card"),y=(0,n.up)("r-button"),b=(0,n.up)("r-pagination"),k=(0,n.up)("the-footer");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n.Wm)(m),(0,n._)("main",s,[(0,n._)("section",c,[(0,n.Wm)(w,{links:_.links},null,8,["links"]),(0,n._)("h2",i,(0,a.zw)(_.current_category.name),1),(0,n._)("div",u,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(_.current_subcategories,(function(e){return(0,n.wg)(),(0,n.j4)(f,{key:e.id,text:e.name},null,8,["text"])})),128))]),(0,n.Wm)(h,{values:e.sortVariations},null,8,["values"]),(0,n._)("div",l,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(_.current_products,(function(e){return(0,n.wg)(),(0,n.j4)(v,{key:e.id,id:e.id,discount_percent:e.discount_percent,img:e.img,price:e.price,price_old:e.price_old,name:e.name,category:_.current_category.id},null,8,["id","discount_percent","img","price","price_old","name","category"])})),128))]),(0,n._)("div",g,[(0,n.Wm)(y,{class:"yellow",text:"Показать ещё",arrow:!0}),(0,n.Wm)(b,{pages:e.paginationPages,currentPage:_.page_number,onSelectPage:_.selectPage},null,8,["pages","currentPage","onSelectPage"])])])]),(0,n.Wm)(k)])}var p=r(5082),_=(r(9554),r(1539),r(4747),r(9653),r(65)),m=r(8618),w=r(7736),f=r(5734),h=r(2781),v=r(7171),y=r(4830),b=r(7287),k=r(222);const D={name:"PageCategory",components:{TheHeader:m.Z,rBreadcrumbs:w.Z,rDropdown:h.Z,SubcategoryCard:f.Z,rCard:v.Z,rButton:y.Z,rPagination:b.Z,TheFooter:k.Z},data:function(){return{sortVariations:[{id:1,value:1,text:"По цене (возрастание)"},{id:2,value:2,text:"По цене (убывание"}],paginationPages:[{id:1,page:1,class:"current"},{id:2,page:2,class:null},{id:3,page:3,class:null},{id:4,page:4,class:null},{id:5,page:5,class:null},{id:6,page:6,class:null},{id:7,page:7,class:null},{id:8,page:8,class:null},{id:9,page:9,class:null},{id:10,page:10,class:null}]}},computed:(0,p.Z)((0,p.Z)({},(0,_.Se)({categories:"CATEGORIES",sub_categories:"SUB_CATEGORIES",products:"PRODUCTS"})),{},{current_category:function(){var e=this,t="";return null!==this.categories&&this.categories.forEach((function(r){r.id==e.$route.params.category&&(t=r)})),document.title=t.name,t},current_subcategories:function(){var e=this,t=[];return null!==this.sub_categories&&this.sub_categories.forEach((function(r){e.current_category.id===r.category&&t.push(r)})),t},current_products:function(){var e=this,t=[];return null!==this.products&&this.products.forEach((function(r){r.sub_category.forEach((function(n){e.current_subcategories.forEach((function(e){n===e.id&&t.push(r)}))}))})),t},links:function(){var e=[{id:1,description:"Главная",route:"/",current:!1},{id:2,description:"Каталог",route:"/catalog",current:!1},{id:3,description:this.current_category.name,route:"/",current:!0}];return e},page_number:function(){return Number(this.$route.query.page)},current_path:function(){return this.$router.currentRoute._value.path}}),methods:{selectPage:function(e){this.$router.push({path:this.current_path,query:{page:e}})}}};var P=r(89);const Z=(0,P.Z)(D,[["render",d],["__scopeId","data-v-fc18ea56"]]),C=Z}}]);
//# sourceMappingURL=837.89d8db45.js.map